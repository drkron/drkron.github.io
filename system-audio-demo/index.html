<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>getDisplayMedia with System Audio Demo</title>
    <h2>getDisplayMedia with System Audio Demo</h2>
    <link rel="stylesheet" href="css/main.css"/>
  </head>
  
  <h3>MediaDevices</h3>
  
  <body>
    <div class="audio-device-container">
      <label for="audio-output">Audio output:</label>
      <select id="audio-output"></select>
    </div>
    
    <div class="restart">
      <input id="restart-audio" type="checkbox">Restart audio streams when devices are added or removed</input>
    </div>
    
    <h3>Audio sources</h3>
    
    <figure>
      <figcaption>Play audio on &lt;audio&gt; tag:</figcaption>
      
      <!-- Wrap first audio + dropdown for proper alignment -->
      <div class="audio-container">
        <audio id="html-audio" controls loop>
          <source id="audio-source" src="audio/music_beat.wav" type="audio/wav">
        </audio>
        <select id="audio-file-select" class="file-select-style">
          <option value="audio/music_beat.wav">music_beat.wav</option>
          <option value="audio/left_right_stereo_test.wav">left_right_stereo_test.wav</option>
          <option value="audio/stereo_knocking.wav">stereo_knocking.wav</option>
          <option value="audio/female_lead_voice_music.wav">female_soul_music.wav</option>
          <option value="audio/cyndi_lauper_48k.wav">cyndi_lauper_48k.wav</option>
        </select>
      </div>
      
    </figure>
    
    <h3>MediaStreamTracks</h3>
        
    <div class="gdm-audio-container">
      <audio id="gdm-audio"></audio>
    </div>

    <div class="gdm-container">
      <div class="comment">getDisplayMedia with system audio capture</div>
      <button id="gdm">getDisplayMedia</button>
      <input id="gdm-local-audio-playback" type="checkbox" checked></input>
      <label for="gdm-local-audio-playback">LocalAudioPlayback</label>
      <input id="gdm-system-audio" type="checkbox" checked></input>
      <label for="gdm-system-audio">systemAudio</label>
      <input id="gdm-restrict-own-audio" type="checkbox"></input>
      <label for="gdm-restrict-own-audio">restrictOwnAudio(WIP)</label>
      <button id="gdm-stop">Stop</button>
      <input id="gdm-mute" type="checkbox"></input>
      <label for="gdm-mute">Mute</label>
      <canvas id="gdm-level-meter"></canvas>
      <div class="vertical-line"></div>
      <pre>&lt;audio&gt;</pre>
      <input id="gdm-play-audio" type="checkbox"></input>
      <label for="gdm-play-audio">Play</label>
    </div>
    <p>
    <div class="gdm-container">
      <div class="comment">Media recorder</div>
      <button id="gdm-record" disabled>Start Recording</button>
      <audio id="gdm-recorded-audio" controls></audio>
    </div>
    
    <div class="gdm-info-container">
      <div id="gdm-options"></div>
      <div id="gdm-track"></div>
      <div id="gdm-recorded"></div>
    </div>
    
    <div id="error-message"></div>
        
    <script type="module" src="js/main.js" defer></script>

    <div>
      This demo page is a stripped down version of <a href="https://henrik-and.github.io/echo-demo/">https://henrik-and.github.io/echo-demo/</a>.
    </div>  
</body>
</html>

